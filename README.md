# Site news

Интерфейс для создания новостей с галлереей. После создания у новости есть вкладки "Просмотр", "Галлерея" и "Метатеги". С помощью команд можно все это переписать.

## Установка

    php artisan migrate

    php artisan make:news {--all : Run all}
                          {--menu : Config menu}
                          {--models : Export models}
                          {--controllers : Export controllers}
                          {--config : Make config}
                          {--only-default : Create default rules}
                          {--policies : Export and create rules}

### Versions
    v2.1: 
        - Добавлена фиксация в верху списка к Новости. Изменена сортировка результата списка новостей в контроллерах админ.панели и сайта.
    Обновление:
        - php artisan migrate
        -

    v2.0:
        - Добавлены секции новостей (news_sections)
        - Новость можно соотнести с несколькими секциями
        - По умолчанию секции отключены, включаются в настройках 
        - Меню админки обновлено на выпадающее
        - Шаблон настроек в админке обновлен
        - Обновлены роуты, модели, контроллеры, профайдер, команда пакета
    Обновление:
        - php artisan migrate
        - php artisan make:news --models (создать модели секций)
        - php artisan make:news --controllers (создать контроллеры секций)
        - php artisan make:news --config (обновить конфиг если необходимо)
        - php artisan make:news --policies (создать политики секций) --only-default создаст политики по умолчанию
        
    v1.4.0:
        - Изменен статус публикации (теперь вместо published находится published_at и хранится дата)
        - В новость выводится дата публикации а не дата создания
        - Новости которые не опубликованы выдают 404
        - Шаблон меню изменен для sb-admin
        - Изменены шаблоны для администрирования
    Обновление:
        - php artisan migrate
        - Проверить запросы на новости, если есть отдельные блоки с новостями или переопреден контроллер
        - Проверить вывод даты в шаблоны, если они переопределены
        
    v1.3.4:
        - Зименены данные кэша для тизера.
    Обновление:
        - php artisan cache:clear
    
    v1.3.3:
        - Ограничение вкладки мета по правам
        
    v1.3.2:
        - В конфиг добален параметр файл доп. адресов, что бы вставить адреса перед основными
    
    v1.3.0:
        - Обновлены traits в модели на новые
        
    v1.2.8:
        - Добавлен параметр --only-default в команду
        - В просмотре новости в админке изменен вывод изображения
    
    v1.2.6:
        - Добавлены права доступа
        - Добавлен статус публикации
    Обновление:
        - php artisan make:news --policies